{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getPhotos (userQuery) {\n   const searchParams = new URLSearchParams({\n    key:\"45431575-a54d9a4f673da9f6ecaf0fabb\", \n    q: userQuery, image_type:\"photo\", \n    orientation:\"horizontal\", \n    safesearch: true})\n\n    return fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n   \n  \n}\n\n\n","\nimport SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { gallery } from \"../main\";\nconst lightBox = new SimpleLightbox('.gallery a');\n\n\nexport function createMarkup (images) {\n    const markup = images.map(img=>`\n    <li class='gallery-item'><a class=\"gallery-link\"  href=\"${img.largeImageURL}\">\n    <img class=\"gallery-img\" src=\"${img.webformatURL}\" alt=\"${img.tags}\">\n      </a>\n    <ul class=\"card-info\">\n    <li class=\"card-info-item\">\n      <p>Like:${img.likes}</p>\n    </li>\n    <li class=\"card-info-item\">\n      <p>Views:${img.views}</p>\n    </li>\n    <li class=\"card-info-item\">\n      <p>Coments:${img.comments}</p>\n    </li>\n    <li class=\"card-info-item\">\n      <p>Downloads:${img.downloads}</p>\n    </li></ul>\n  </li>`).join(\"\")\n  gallery.insertAdjacentHTML(\"beforeend\", markup)\n  lightBox.refresh()\n}","import iziToast from 'izitoast';\nimport 'modern-normalize/modern-normalize.css';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getPhotos } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nconst loader = document.querySelector('.loader');\n\nconst form = document.querySelector('.search-form');\nexport const gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', formSubmit);\nfunction formSubmit(evt) {\n  evt.preventDefault();\n\n  gallery.innerHTML = '';\n\n  const { search } = evt.currentTarget.elements;\n  const trimedValue = search.value.trim();\n  if (trimedValue === '') {\n    return iziToast.error({\n      position: 'topRight',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n  }\n  loader.classList.remove('isheaden');\n\n  getPhotos(trimedValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        return iziToast.warning({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n      createMarkup(data.hits);\n      form.reset();\n    })\n    .catch(eror =>\n      iziToast.error({ position: 'topRight', message: eror.message })\n    )\n    .finally(() => loader.classList.add('isheaden'));\n}\n"],"names":["getPhotos","userQuery","searchParams","response","lightBox","SimpleLightbox","createMarkup","images","markup","img","gallery","loader","form","formSubmit","evt","search","trimedValue","iziToast","data","eror"],"mappings":"6vBAAO,SAASA,EAAWC,EAAW,CACnC,MAAMC,EAAe,IAAI,gBAAgB,CACxC,IAAI,qCACJ,EAAGD,EAAW,WAAW,QACzB,YAAY,aACZ,WAAY,EAAI,CAAC,EAEjB,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EACtD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,CAGL,CCXA,MAAMC,EAAW,IAAIC,EAAe,YAAY,EAGzC,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAIE,GAAK;AAAA,8DAC2BA,EAAI,aAAa;AAAA,oCAC3CA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,gBAItDA,EAAI,KAAK;AAAA;AAAA;AAAA,iBAGRA,EAAI,KAAK;AAAA;AAAA;AAAA,mBAGPA,EAAI,QAAQ;AAAA;AAAA;AAAA,qBAGVA,EAAI,SAAS;AAAA;AAAA,QAE1B,EAAE,KAAK,EAAE,EACfC,EAAQ,mBAAmB,YAAaF,CAAM,EAC9CJ,EAAS,QAAS,CACpB,CCtBA,MAAMO,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAO,SAAS,cAAc,cAAc,EACrCF,EAAU,SAAS,cAAc,UAAU,EAExDE,EAAK,iBAAiB,SAAUC,CAAU,EAC1C,SAASA,EAAWC,EAAK,CACvBA,EAAI,eAAc,EAElBJ,EAAQ,UAAY,GAEpB,KAAM,CAAE,OAAAK,CAAQ,EAAGD,EAAI,cAAc,SAC/BE,EAAcD,EAAO,MAAM,KAAI,EACrC,GAAIC,IAAgB,GAClB,OAAOC,EAAS,MAAM,CACpB,SAAU,WACV,QACE,0EACR,CAAK,EAEHN,EAAO,UAAU,OAAO,UAAU,EAElCX,EAAUgB,CAAW,EAClB,KAAKE,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,OAAOD,EAAS,QAAQ,CACtB,QACE,2EACF,SAAU,UACpB,CAAS,EAEHX,EAAaY,EAAK,IAAI,EACtBN,EAAK,MAAK,CAChB,CAAK,EACA,MAAMO,GACLF,EAAS,MAAM,CAAE,SAAU,WAAY,QAASE,EAAK,QAAS,CAC/D,EACA,QAAQ,IAAMR,EAAO,UAAU,IAAI,UAAU,CAAC,CACnD"}